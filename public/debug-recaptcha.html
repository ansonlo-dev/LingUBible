<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>reCAPTCHA èª¿è©¦å·¥å…· - LingUBible</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background: #f5f5f5;
            min-height: 100vh;
        }
        .debug-panel {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .debug-panel h2 {
            margin-top: 0;
            color: #333;
        }
        .btn {
            background: #dc2626;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
            font-size: 14px;
        }
        .btn:hover {
            background: #b91c1c;
        }
        .status {
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
        }
        .status.success {
            background: #dcfce7;
            color: #166534;
            border: 1px solid #bbf7d0;
        }
        .status.error {
            background: #fef2f2;
            color: #991b1b;
            border: 1px solid #fecaca;
        }
        .status.warning {
            background: #fffbeb;
            color: #92400e;
            border: 1px solid #fed7aa;
        }
        .footer-simulation {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: #333;
            color: white;
            padding: 15px;
            text-align: center;
            z-index: 5;
        }
        .mock-recaptcha {
            position: fixed;
            bottom: 14px;
            right: 14px;
            width: 70px;
            height: 60px;
            background: #f9f9f9;
            border: 1px solid #d3d3d3;
            border-radius: 3px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            color: #555;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
            z-index: 50;
            cursor: pointer;
        }
        .code {
            background: #f8f8f8;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 10px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            overflow-x: auto;
        }
        .element-info {
            background: #f0f9ff;
            border: 1px solid #0ea5e9;
            border-radius: 5px;
            padding: 10px;
            margin: 5px 0;
            font-size: 12px;
        }
    </style>
</head>
<body>
    <div class="debug-panel">
        <h2>ğŸ”§ reCAPTCHA ä½ç½®èª¿è©¦å·¥å…·</h2>
        <p>é€™å€‹å·¥å…·å¯ä»¥å¹«åŠ©ä½ æª¢æŸ¥å’Œä¿®å¾© reCAPTCHA åœ–æ¨™çš„ä½ç½®å•é¡Œã€‚</p>
        
        <div class="btn-group">
            <button class="btn" onclick="findRecaptchaElements()">ğŸ” å°‹æ‰¾ reCAPTCHA å…ƒç´ </button>
            <button class="btn" onclick="forceFixPosition()">ğŸ”§ å¼·åˆ¶ä¿®å¾©ä½ç½®</button>
            <button class="btn" onclick="checkCurrentStatus()">ğŸ“Š æª¢æŸ¥ç•¶å‰ç‹€æ…‹</button>
            <button class="btn" onclick="toggleMockRecaptcha()">ğŸ­ åˆ‡æ›æ¨¡æ“¬åœ–æ¨™</button>
        </div>
        
        <div id="status-display"></div>
    </div>
    
    <div class="debug-panel">
        <h2>ğŸ“‹ æª¢æ¸¬çµæœ</h2>
        <div id="detection-results">
            <p>é»æ“Šä¸Šæ–¹æŒ‰éˆ•é–‹å§‹æª¢æ¸¬...</p>
        </div>
    </div>
    
    <div class="debug-panel">
        <h2>ğŸ› ï¸ ä¿®å¾©æ–¹æ¡ˆ</h2>
        <p>æˆ‘å€‘ä½¿ç”¨äº†å¤šå±¤ä¿®å¾©æ–¹æ¡ˆï¼š</p>
        <ol>
            <li><strong>CSS è¦†è“‹</strong>ï¼šä½¿ç”¨é«˜å„ªå…ˆç´šé¸æ“‡å™¨è¦†è“‹ Google çš„å…§è¯æ¨£å¼</li>
            <li><strong>JavaScript å‹•æ…‹èª¿æ•´</strong>ï¼šç›£æ§ DOM è®ŠåŒ–ä¸¦å¼·åˆ¶èª¿æ•´ä½ç½®</li>
            <li><strong>éŸ¿æ‡‰å¼è¨­è¨ˆ</strong>ï¼šé‡å°ä¸åŒè¢å¹•å°ºå¯¸èª¿æ•´ä½ç½®</li>
        </ol>
        
        <div class="code">
/* CSS ä¿®å¾© */
.grecaptcha-badge {
    bottom: 80px !important; /* æ¡Œé¢ç‰ˆ */
}

@media (max-width: 768px) {
    .grecaptcha-badge {
        bottom: 100px !important; /* æ‰‹æ©Ÿç‰ˆ */
    }
}
        </div>
    </div>
    
    <!-- æ¨¡æ“¬é è…³ -->
    <div class="footer-simulation">
        ğŸ“„ é€™æ˜¯æ¨¡æ“¬çš„é è…³ - reCAPTCHA åœ–æ¨™ä¸æ‡‰è©²é®æ“‹é€™è£¡
    </div>
    
    <!-- æ¨¡æ“¬ reCAPTCHA åœ–æ¨™ -->
    <div class="mock-recaptcha" id="mockRecaptcha">
        reCAPTCHA<br>
        <small>æ¨¡æ“¬</small>
    </div>
    
    <script>
        let mockVisible = true;
        
        function showStatus(message, type = 'success') {
            const statusDiv = document.getElementById('status-display');
            statusDiv.innerHTML = `<div class="status ${type}">${message}</div>`;
        }
        
        function findRecaptchaElements() {
            const selectors = [
                '.grecaptcha-badge',
                'div[style*="position: fixed"][style*="bottom"]',
                'iframe[src*="recaptcha"]',
                '.mock-recaptcha'
            ];
            
            let found = [];
            let html = '<h3>ğŸ” æª¢æ¸¬åˆ°çš„å…ƒç´ ï¼š</h3>';
            
            selectors.forEach(selector => {
                const elements = document.querySelectorAll(selector);
                elements.forEach((el, index) => {
                    const style = window.getComputedStyle(el);
                    const rect = el.getBoundingClientRect();
                    
                    found.push({
                        selector,
                        element: el,
                        bottom: style.bottom,
                        right: style.right,
                        position: style.position,
                        zIndex: style.zIndex,
                        width: rect.width,
                        height: rect.height
                    });
                    
                    html += `
                        <div class="element-info">
                            <strong>å…ƒç´  ${found.length}:</strong> ${selector}<br>
                            ä½ç½®: bottom: ${style.bottom}, right: ${style.right}<br>
                            å°ºå¯¸: ${Math.round(rect.width)}x${Math.round(rect.height)}px<br>
                            z-index: ${style.zIndex}
                        </div>
                    `;
                });
            });
            
            if (found.length === 0) {
                html += '<p class="status warning">âš ï¸ æœªæ‰¾åˆ°ä»»ä½• reCAPTCHA å…ƒç´ </p>';
            } else {
                html += `<p class="status success">âœ… æ‰¾åˆ° ${found.length} å€‹ç›¸é—œå…ƒç´ </p>`;
            }
            
            document.getElementById('detection-results').innerHTML = html;
            showStatus(`æª¢æ¸¬å®Œæˆï¼Œæ‰¾åˆ° ${found.length} å€‹å…ƒç´ `);
        }
        
        function forceFixPosition() {
            const elements = document.querySelectorAll('.grecaptcha-badge, div[style*="position: fixed"][style*="bottom"], .mock-recaptcha');
            const isMobile = window.innerWidth <= 768;
            const bottom = isMobile ? '100px' : '80px';
            const right = isMobile ? '10px' : '14px';
            
            let fixed = 0;
            elements.forEach(el => {
                if (el.style.position === 'fixed' || window.getComputedStyle(el).position === 'fixed') {
                    el.style.setProperty('bottom', bottom, 'important');
                    el.style.setProperty('right', right, 'important');
                    el.style.setProperty('z-index', '30', 'important');
                    el.classList.add('recaptcha-adjusted');
                    fixed++;
                }
            });
            
            showStatus(`âœ… å·²å¼·åˆ¶ä¿®å¾© ${fixed} å€‹å…ƒç´ çš„ä½ç½® (${isMobile ? 'æ‰‹æ©Ÿç‰ˆ' : 'æ¡Œé¢ç‰ˆ'})`);
            
            // é‡æ–°æª¢æ¸¬
            setTimeout(findRecaptchaElements, 100);
        }
        
        function checkCurrentStatus() {
            const elements = document.querySelectorAll('.grecaptcha-badge, div[style*="position: fixed"][style*="bottom"], .mock-recaptcha');
            let html = '<h3>ğŸ“Š ç•¶å‰ç‹€æ…‹ï¼š</h3>';
            
            if (elements.length === 0) {
                html += '<p class="status warning">âš ï¸ æœªæ‰¾åˆ°ä»»ä½•å›ºå®šä½ç½®å…ƒç´ </p>';
            } else {
                elements.forEach((el, index) => {
                    const style = window.getComputedStyle(el);
                    const isFixed = style.position === 'fixed';
                    const bottom = parseInt(style.bottom) || 0;
                    const isProperlyPositioned = bottom >= 80;
                    
                    html += `
                        <div class="element-info">
                            <strong>å…ƒç´  ${index + 1}:</strong><br>
                            ä½ç½®: ${style.bottom} (${isProperlyPositioned ? 'âœ… æ­£ç¢º' : 'âŒ éœ€è¦ä¿®å¾©'})<br>
                            é¡å‹: ${el.className || el.tagName}<br>
                            ç‹€æ…‹: ${isFixed ? 'å›ºå®šå®šä½' : 'éå›ºå®šå®šä½'}
                        </div>
                    `;
                });
            }
            
            document.getElementById('detection-results').innerHTML = html;
            showStatus('ç‹€æ…‹æª¢æŸ¥å®Œæˆ');
        }
        
        function toggleMockRecaptcha() {
            const mock = document.getElementById('mockRecaptcha');
            if (mockVisible) {
                mock.style.display = 'none';
                mockVisible = false;
                showStatus('å·²éš±è—æ¨¡æ“¬ reCAPTCHA åœ–æ¨™');
            } else {
                mock.style.display = 'flex';
                mockVisible = true;
                showStatus('å·²é¡¯ç¤ºæ¨¡æ“¬ reCAPTCHA åœ–æ¨™');
            }
        }
        
        // è‡ªå‹•æª¢æ¸¬
        document.addEventListener('DOMContentLoaded', function() {
            showStatus('èª¿è©¦å·¥å…·å·²è¼‰å…¥ï¼Œè«‹é»æ“ŠæŒ‰éˆ•é–‹å§‹æª¢æ¸¬', 'warning');
            
            // ç›£è½çª—å£å¤§å°è®ŠåŒ–
            window.addEventListener('resize', function() {
                showStatus('çª—å£å¤§å°å·²è®ŠåŒ–ï¼Œå»ºè­°é‡æ–°æª¢æ¸¬', 'warning');
            });
        });
        
        // å…¨å±€å‡½æ•¸ä¾›æ§åˆ¶å°ä½¿ç”¨
        window.debugRecaptcha = {
            find: findRecaptchaElements,
            fix: forceFixPosition,
            check: checkCurrentStatus
        };
    </script>
</body>
</html> 