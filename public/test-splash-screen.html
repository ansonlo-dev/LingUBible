<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PWA 啟動畫面測試 - LingUBible</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f5f5f5;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        h1 {
            text-align: center;
            margin-bottom: 30px;
            color: #333;
        }

        .preview-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .device-preview {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            text-align: center;
        }

        .device-name {
            font-weight: bold;
            margin-bottom: 15px;
            color: #666;
        }

        .splash-frame {
            border: 2px solid #ddd;
            border-radius: 8px;
            overflow: hidden;
            margin: 0 auto;
            background: #000;
        }

        .splash-frame.iphone {
            width: 200px;
            height: 400px;
        }

        .splash-frame.ipad {
            width: 300px;
            height: 400px;
        }

        .splash-frame.android {
            width: 180px;
            height: 320px;
        }

        .splash-frame iframe {
            width: 100%;
            height: 100%;
            border: none;
        }

        .controls {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }

        .control-group {
            margin-bottom: 15px;
        }

        label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
        }

        select, button {
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 14px;
        }

        button {
            background: #dc2626;
            color: white;
            border: none;
            cursor: pointer;
            margin-right: 10px;
        }

        button:hover {
            background: #b91c1c;
        }

        .info {
            background: #f0f9ff;
            border: 1px solid #0ea5e9;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
        }

        .info h3 {
            color: #0369a1;
            margin-bottom: 10px;
        }

        .feature-list {
            list-style: none;
            padding-left: 0;
        }

        .feature-list li {
            padding: 5px 0;
            position: relative;
            padding-left: 20px;
        }

        .feature-list li:before {
            content: "✅";
            position: absolute;
            left: 0;
        }

        .test-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 15px;
        }

        @media (max-width: 768px) {
            .preview-grid {
                grid-template-columns: 1fr;
            }
            
            .test-buttons {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>🎨 PWA 啟動畫面測試</h1>
        
        <div class="info">
            <h3>功能特點</h3>
            <ul class="feature-list">
                <li>支援 iOS 和 Android 設備</li>
                <li>響應式設計，適配各種屏幕尺寸</li>
                <li>流暢的動畫效果和過渡</li>
                <li>品牌一致的視覺設計</li>
                <li>自動檢測 PWA 模式並顯示</li>
                <li>多語言支援</li>
            </ul>
        </div>

        <div class="controls">
            <h3>測試控制</h3>
            <div class="control-group">
                <label for="deviceSelect">選擇設備類型：</label>
                <select id="deviceSelect">
                    <option value="iphone-12">iPhone 12/13/14</option>
                    <option value="iphone-x">iPhone X/XS/11 Pro</option>
                    <option value="iphone-xr">iPhone XR/11</option>
                    <option value="iphone-14-pro-max">iPhone 14 Pro Max</option>
                    <option value="ipad">iPad</option>
                    <option value="ipad-pro-11">iPad Pro 11"</option>
                    <option value="android-large">Android Large</option>
                    <option value="default">Default</option>
                </select>
            </div>
            
            <div class="test-buttons">
                <button onclick="showSplashPreview()">預覽啟動畫面</button>
                <button onclick="testPWAMode()">測試 PWA 模式</button>
                <button onclick="downloadSplashScreens()">下載啟動畫面</button>
                <button onclick="viewInstructions()">查看說明文檔</button>
            </div>
        </div>

        <div class="preview-grid">
            <div class="device-preview">
                <div class="device-name">iPhone 預覽</div>
                <div class="splash-frame iphone" id="iphonePreview">
                    <iframe src="/splash/iphone-12.svg"></iframe>
                </div>
            </div>

            <div class="device-preview">
                <div class="device-name">iPad 預覽</div>
                <div class="splash-frame ipad" id="ipadPreview">
                    <iframe src="/splash/ipad.svg"></iframe>
                </div>
            </div>

            <div class="device-preview">
                <div class="device-name">Android 預覽</div>
                <div class="splash-frame android" id="androidPreview">
                    <iframe src="/splash/android-large.svg"></iframe>
                </div>
            </div>
        </div>

        <div class="info">
            <h3>如何測試</h3>
            <p><strong>在 iOS 設備上：</strong></p>
            <ol>
                <li>在 Safari 中打開網站</li>
                <li>點擊分享按鈕 → "加入主畫面"</li>
                <li>從主畫面啟動應用查看啟動畫面</li>
            </ol>
            
            <p><strong>在 Android 設備上：</strong></p>
            <ol>
                <li>在 Chrome 中打開網站</li>
                <li>點擊菜單 → "安裝應用"</li>
                <li>從主畫面啟動應用查看啟動畫面</li>
            </ol>
        </div>
    </div>

    <script>
        function showSplashPreview() {
            const device = document.getElementById('deviceSelect').value;
            const splashUrl = `/splash/${device}.svg`;
            
            // 在新窗口中打開啟動畫面
            const popup = window.open('', 'splash-preview', 'width=400,height=600');
            popup.document.write(`
                <!DOCTYPE html>
                <html>
                <head>
                    <title>啟動畫面預覽 - ${device}</title>
                    <style>
                        body { margin: 0; padding: 0; overflow: hidden; }
                        iframe { width: 100vw; height: 100vh; border: none; }
                    </style>
                </head>
                <body>
                    <iframe src="${splashUrl}"></iframe>
                </body>
                </html>
            `);
        }

        function testPWAMode() {
            // 檢測當前是否為 PWA 模式
            const isStandalone = window.matchMedia('(display-mode: standalone)').matches ||
                                window.navigator.standalone === true;
            
            if (isStandalone) {
                alert('✅ 當前已在 PWA 模式下運行！啟動畫面應該在應用啟動時顯示。');
            } else {
                alert('ℹ️ 當前在瀏覽器模式下。請將應用安裝到主畫面後測試啟動畫面。');
            }
        }

        function downloadSplashScreens() {
            window.open('/splash/', '_blank');
        }

        function viewInstructions() {
            window.open('/splash/README.md', '_blank');
        }

        // 更新預覽
        document.getElementById('deviceSelect').addEventListener('change', function() {
            const device = this.value;
            const splashUrl = `/splash/${device}.svg`;
            
            // 更新對應的預覽框
            if (device.includes('iphone')) {
                document.querySelector('#iphonePreview iframe').src = splashUrl;
            } else if (device.includes('ipad')) {
                document.querySelector('#ipadPreview iframe').src = splashUrl;
            } else if (device.includes('android') || device === 'default') {
                document.querySelector('#androidPreview iframe').src = splashUrl;
            }
        });

        // 頁面載入時的提示
        window.addEventListener('load', function() {
            console.log('🎨 PWA 啟動畫面測試頁面已載入');
            console.log('📱 支援的設備類型:', [
                'iPhone 5/SE', 'iPhone 6/7/8', 'iPhone 6/7/8 Plus',
                'iPhone X/XS/11 Pro', 'iPhone XR/11', 'iPhone XS Max/11 Pro Max',
                'iPhone 12/13/14', 'iPhone 12/13/14 Pro Max',
                'iPhone 14 Pro', 'iPhone 14 Pro Max',
                'iPad', 'iPad Pro 11"', 'iPad Pro 12.9"',
                'Android Small/Medium/Large/XLarge'
            ]);
        });
    </script>
</body>
</html> 