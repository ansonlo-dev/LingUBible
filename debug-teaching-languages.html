<!DOCTYPE html>
<html>
<head>
    <title>Debug Teaching Languages</title>
</head>
<body>
    <h1>Teaching Languages Debug</h1>
    <div id="output"></div>
    
    <script type="module">
        import { CourseService } from './src/services/api/courseService.js';
        
        async function debugTeachingLanguages() {
            const output = document.getElementById('output');
            output.innerHTML = '<p>開始測試教學語言數據...</p>';
            
            try {
                // 測試獲取一些課程的教學語言
                const testCourseCodes = ['ACCT1001', 'BUSI1002', 'COMP1001']; // 一些常見課程代碼
                
                output.innerHTML += '<p>測試課程代碼: ' + testCourseCodes.join(', ') + '</p>';
                
                const teachingLanguagesMap = await CourseService.getBatchCourseTeachingLanguages(testCourseCodes);
                
                output.innerHTML += '<h2>獲取結果:</h2>';
                output.innerHTML += '<p>Map 大小: ' + teachingLanguagesMap.size + '</p>';
                
                // 顯示每個課程的結果
                testCourseCodes.forEach(courseCode => {
                    const languages = teachingLanguagesMap.get(courseCode) || [];
                    output.innerHTML += '<p>' + courseCode + ': ' + (languages.length > 0 ? languages.join(', ') : '無數據') + '</p>';
                });
                
                // 測試單個課程
                output.innerHTML += '<h2>測試單個課程:</h2>';
                const singleLanguages = await CourseService.getCourseTeachingLanguages('ACCT1001');
                output.innerHTML += '<p>ACCT1001 單個查詢結果: ' + (singleLanguages.length > 0 ? singleLanguages.join(', ') : '無數據') + '</p>';
                
            } catch (error) {
                output.innerHTML += '<p style="color: red;">錯誤: ' + error.message + '</p>';
                console.error('Debug error:', error);
            }
        }
        
        // 等待頁面加載完成後執行
        setTimeout(debugTeachingLanguages, 1000);
    </script>
</body>
</html>