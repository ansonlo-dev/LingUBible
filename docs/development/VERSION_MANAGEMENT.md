# ç‰ˆæœ¬ç®¡ç†ç³»çµ±

LingUBible ä½¿ç”¨è‡ªå‹•åŒ–ç‰ˆæœ¬ç®¡ç†ç³»çµ±ï¼Œæ”¯æ´è‡ªå‹•ç‰ˆæœ¬æ›´æ–°ã€GitHub Releases æ•´åˆå’Œå‹•æ…‹ç‰ˆæœ¬é¡¯ç¤ºã€‚

## ğŸš€ åŠŸèƒ½ç‰¹è‰²

### 1. **è‡ªå‹•ç‰ˆæœ¬æ›´æ–°**
- æ¯æ¬¡æ¨é€åˆ° `main` åˆ†æ”¯æ™‚è‡ªå‹•å¢åŠ  patch ç‰ˆæœ¬
- è‡ªå‹•å‰µå»º Git æ¨™ç±¤å’Œ GitHub Release
- æ”¯æ´è·³éç‰ˆæœ¬æ›´æ–°ï¼ˆåœ¨ commit è¨Šæ¯ä¸­æ·»åŠ  `[skip version]`ï¼‰

### 2. **å‹•æ…‹ç‰ˆæœ¬é¡¯ç¤º**
- é è…³è‡ªå‹•å¾ GitHub API ç²å–æœ€æ–°ç‰ˆæœ¬
- æ”¯æ´é»æ“Šç‰ˆæœ¬è™Ÿè·³è½‰åˆ° GitHub Release é é¢
- è‡ªå‹•å€åˆ† Beta ç‰ˆæœ¬ï¼ˆ0.x.xï¼‰å’Œç©©å®šç‰ˆæœ¬ï¼ˆ1.x.x+ï¼‰

### 3. **æ‰‹å‹•ç‰ˆæœ¬ç®¡ç†**
- æä¾›æ‰‹å‹•ç‰ˆæœ¬ç™¼å¸ƒå·¥å…·
- æ”¯æ´ majorã€minorã€patch ç‰ˆæœ¬æ›´æ–°
- å®Œæ•´çš„ç™¼å¸ƒæµç¨‹è‡ªå‹•åŒ–

## ğŸ“‹ ç‰ˆæœ¬è¦å‰‡

### Beta ç‰ˆæœ¬ï¼ˆ0.x.xï¼‰
- é–‹ç™¼éšæ®µç‰ˆæœ¬
- é¡¯ç¤ºç‚º "Beta 0.x.x"
- æ©™è‰²æ¨™ç±¤é¡¯ç¤º
- è‡ªå‹•æ¨™è¨˜ç‚º pre-release

### ç©©å®šç‰ˆæœ¬ï¼ˆ1.x.x+ï¼‰
- æ­£å¼ç™¼å¸ƒç‰ˆæœ¬
- é¡¯ç¤ºç‚º "v1.x.x"
- ç¶ è‰²æ¨™ç±¤é¡¯ç¤º
- æ¨™è¨˜ç‚ºæ­£å¼ release

## ğŸ› ï¸ ä½¿ç”¨æ–¹æ³•

### è‡ªå‹•ç‰ˆæœ¬æ›´æ–°

```bash
# æ­£å¸¸æ¨é€åˆ° main åˆ†æ”¯ï¼Œæœƒè‡ªå‹•æ›´æ–°ç‰ˆæœ¬
git push origin main

# è·³éç‰ˆæœ¬æ›´æ–°
git commit -m "docs: update README [skip version]"
git push origin main
```

### æ‰‹å‹•ç‰ˆæœ¬ç®¡ç†

```bash
# å¢åŠ  patch ç‰ˆæœ¬ï¼ˆ0.0.1 â†’ 0.0.2ï¼‰
npm run release:patch

# å¢åŠ  minor ç‰ˆæœ¬ï¼ˆ0.0.1 â†’ 0.1.0ï¼‰
npm run release:minor

# å¢åŠ  major ç‰ˆæœ¬ï¼ˆ0.0.1 â†’ 1.0.0ï¼‰
npm run release:major

# è‡ªå‹•ç™¼å¸ƒï¼ˆè·³éç¢ºèªï¼‰
npm run release:auto

# æª¢æŸ¥ç™¼å¸ƒç‹€æ…‹
npm run release:check
```

### ç‰ˆæœ¬è³‡è¨ŠæŸ¥è©¢

```bash
# æŸ¥çœ‹ç•¶å‰ç‰ˆæœ¬è³‡è¨Š
npm run version:info

# åªæ›´æ–°ç‰ˆæœ¬è™Ÿï¼ˆä¸ç™¼å¸ƒï¼‰
npm run version:patch
npm run version:minor
npm run version:major
```

## ğŸ”§ æŠ€è¡“å¯¦ç¾

### 1. GitHub Actions è‡ªå‹•åŒ–

**`.github/workflows/auto-version.yml`**
- ç›£è½ `main` åˆ†æ”¯æ¨é€
- è‡ªå‹•å¢åŠ  patch ç‰ˆæœ¬
- å‰µå»º Git æ¨™ç±¤
- è§¸ç™¼ Release workflow

**`.github/workflows/release.yml`**
- ç›£è½ç‰ˆæœ¬æ¨™ç±¤æ¨é€
- è‡ªå‹•å‰µå»º GitHub Release
- ç”Ÿæˆ changelog
- éƒ¨ç½²åˆ°ç”Ÿç”¢ç’°å¢ƒ

### 2. å‰ç«¯ç‰ˆæœ¬é¡¯ç¤º

**`src/services/api/github.ts`**
- GitHub API æ•´åˆ
- ç²å–æœ€æ–° Release è³‡è¨Š
- ç‰ˆæœ¬æ¯”è¼ƒå’Œè§£æ

**`src/hooks/useVersion.ts`**
- React Hook ç®¡ç†ç‰ˆæœ¬ç‹€æ…‹
- è‡ªå‹•åˆ·æ–°ç‰ˆæœ¬è³‡è¨Š
- éŒ¯èª¤è™•ç†å’Œè¼‰å…¥ç‹€æ…‹

**`src/components/layout/Footer.tsx`**
- å‹•æ…‹ç‰ˆæœ¬é¡¯ç¤º
- é»æ“Šè·³è½‰åˆ° Release é é¢
- è¼‰å…¥å’ŒéŒ¯èª¤ç‹€æ…‹æŒ‡ç¤º

### 3. ç‰ˆæœ¬ç®¡ç†å·¥å…·

**`tools/scripts/version/manual-release.js`**
- å®Œæ•´çš„æ‰‹å‹•ç™¼å¸ƒæµç¨‹
- Git ç‹€æ…‹æª¢æŸ¥
- äº’å‹•å¼ç¢ºèª
- éŒ¯èª¤æ¢å¾©æ©Ÿåˆ¶

## ğŸ“Š å·¥ä½œæµç¨‹

### è‡ªå‹•ç™¼å¸ƒæµç¨‹

```mermaid
graph TD
    A[æ¨é€åˆ° main åˆ†æ”¯] --> B{åŒ…å« [skip version]?}
    B -->|æ˜¯| C[è·³éç‰ˆæœ¬æ›´æ–°]
    B -->|å¦| D[è‡ªå‹•å¢åŠ  patch ç‰ˆæœ¬]
    D --> E[æäº¤ç‰ˆæœ¬æ›´æ”¹]
    E --> F[å‰µå»º Git æ¨™ç±¤]
    F --> G[æ¨é€æ¨™ç±¤]
    G --> H[è§¸ç™¼ Release workflow]
    H --> I[å‰µå»º GitHub Release]
    I --> J[è‡ªå‹•éƒ¨ç½²]
```

### æ‰‹å‹•ç™¼å¸ƒæµç¨‹

```mermaid
graph TD
    A[åŸ·è¡Œ npm run release:patch] --> B[æª¢æŸ¥ Git ç‹€æ…‹]
    B --> C[æ‹‰å–æœ€æ–°æ›´æ”¹]
    C --> D[æ›´æ–°ç‰ˆæœ¬è™Ÿ]
    D --> E[ç¢ºèªç™¼å¸ƒ]
    E -->|ç¢ºèª| F[æäº¤æ›´æ”¹]
    E -->|å–æ¶ˆ| G[æ¢å¾©æ›´æ”¹]
    F --> H[å‰µå»ºæ¨™ç±¤]
    H --> I[æ¨é€åˆ°é ç«¯]
    I --> J[è§¸ç™¼è‡ªå‹•ç™¼å¸ƒ]
```

## ğŸ¯ æœ€ä½³å¯¦è¸

### 1. **Commit è¨Šæ¯è¦ç¯„**
```bash
# åŠŸèƒ½æ›´æ–°
git commit -m "feat: add new feature"

# éŒ¯èª¤ä¿®å¾©
git commit -m "fix: resolve login issue"

# æ–‡æª”æ›´æ–°ï¼ˆè·³éç‰ˆæœ¬ï¼‰
git commit -m "docs: update API documentation [skip version]"

# æ¨£å¼èª¿æ•´ï¼ˆè·³éç‰ˆæœ¬ï¼‰
git commit -m "style: fix button alignment [skip version]"
```

### 2. **ç‰ˆæœ¬ç™¼å¸ƒæ™‚æ©Ÿ**
- **Patch ç‰ˆæœ¬**: éŒ¯èª¤ä¿®å¾©ã€å°å¹…æ”¹é€²
- **Minor ç‰ˆæœ¬**: æ–°åŠŸèƒ½ã€API æ“´å±•
- **Major ç‰ˆæœ¬**: é‡å¤§æ›´æ”¹ã€ç ´å£æ€§è®Šæ›´

### 3. **Release Notes**
- è‡ªå‹•ç”ŸæˆåŸºæœ¬ changelog
- æ‰‹å‹•ç·¨è¼¯é‡è¦ç™¼å¸ƒçš„èªªæ˜
- åŒ…å«ç ´å£æ€§è®Šæ›´è­¦å‘Š

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è¦‹å•é¡Œ

**1. è‡ªå‹•ç‰ˆæœ¬æ›´æ–°å¤±æ•—**
```bash
# æª¢æŸ¥ GitHub Actions æ—¥èªŒ
# ç¢ºèª GITHUB_TOKEN æ¬Šé™
# æª¢æŸ¥åˆ†æ”¯ä¿è­·è¦å‰‡
```

**2. ç‰ˆæœ¬é¡¯ç¤ºä¸æ­£ç¢º**
```bash
# æª¢æŸ¥ GitHub API é™åˆ¶
# ç¢ºèªå€‰åº«åç¨±è¨­å®š
# æŸ¥çœ‹ç€è¦½å™¨æ§åˆ¶å°éŒ¯èª¤
```

**3. æ‰‹å‹•ç™¼å¸ƒå¤±æ•—**
```bash
# ç¢ºä¿åœ¨ main åˆ†æ”¯
# æª¢æŸ¥å·¥ä½œç›®éŒ„æ˜¯å¦ä¹¾æ·¨
# ç¢ºèª Git é ç«¯è¨­å®š
```

### ç·Šæ€¥ä¿®å¾©

**å›æ»¾ç‰ˆæœ¬**
```bash
# åˆªé™¤éŒ¯èª¤çš„æ¨™ç±¤
git tag -d v0.0.x
git push origin :refs/tags/v0.0.x

# æ¢å¾©åˆ°ä¸Šä¸€å€‹ç‰ˆæœ¬
git reset --hard HEAD~1
git push origin main --force
```

**æ‰‹å‹•å‰µå»º Release**
```bash
# å¦‚æœè‡ªå‹•åŒ–å¤±æ•—ï¼Œå¯ä»¥æ‰‹å‹•å‰µå»º
gh release create v0.0.x --title "Beta 0.0.x" --notes "Manual release"
```

## ğŸ“ˆ ç›£æ§å’Œåˆ†æ

### ç‰ˆæœ¬çµ±è¨ˆ
- ç™¼å¸ƒé »ç‡è¿½è¹¤
- ç‰ˆæœ¬æ¡ç”¨ç‡åˆ†æ
- éŒ¯èª¤ç‡ç›£æ§

### ç”¨æˆ¶åé¥‹
- ç‰ˆæœ¬ç›¸é—œå•é¡Œè¿½è¹¤
- åŠŸèƒ½ä½¿ç”¨çµ±è¨ˆ
- æ€§èƒ½æŒ‡æ¨™ç›£æ§

---

**ç›¸é—œæ–‡æª”**:
- [éƒ¨ç½²æŒ‡å—](../deployment/)
- [é–‹ç™¼ç’°å¢ƒè¨­å®š](../setup/)
- [GitHub Actions è¨­å®š](../ci-cd/) 